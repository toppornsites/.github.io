function load_on_off(){$(".item_wrap").each(function(){var catname=$(this).attr("id");if($.cookie('toggle_'+ catname)=='1'){$(this).find('.item_group').hide();$(this).find('.item_title').addClass("off");$(this).find('.item_title').removeClass("on");}});}
function on_off_box(head){$('html, body').animate({scrollTop:0},0);var catname=$(head).parent().parent().parent().attr("id");if(!$(head).parent().parent().parent().find('.item_group').is(':hidden')){$.cookie('toggle_'+ catname,1,{expires:90});$(head).parent().parent().parent().find('.item_group').hide();$(head).parent().parent().addClass("off");$(head).parent().parent().removeClass("on");}else{$.removeCookie('toggle_'+ catname,{expires:0});$(head).parent().parent().parent().find('.item_group').show();$(head).parent().parent().addClass("on");$(head).parent().parent().removeClass("off");}}
function detailed_info(){$("a.link").each(function(){$(this).hover(function(){$(".default").hide();$(".siteinfo").show();$(".siteinfo .ads").html("<span>Too many ads:</span> "+ $(this).data('ads'));$(".siteinfo .date").html("<span>Updated:</span> "+ $(this).data('date'));$(".siteinfo .desc").html($(this).data('desc'));$(".siteinfo img:first-child").attr("src",upload_path+ $(this).data('thumb'));},function(){$(".default").show();$(".siteinfo").hide();});})}
var upload_path="";$(document).ready(function(){load_on_off();detailed_info();var url=window.location.href;var hash=url.substring(url.indexOf('#'));$(".markfav a").each(function(){if(this.hash==hash){var dest=0;if($(this.hash).offset().top>$(document).height()-$(window).height()){dest=$(document).height()-$(window).height()- 115;}else{dest=$(this.hash).offset().top- 115;}
$('html,body').animate({scrollTop:dest},1000);}})
$(".markfav a").on("click",function(event){event.preventDefault();var dest=0;if($(this.hash).offset().top>$(document).height()-$(window).height()){dest=$(document).height()-$(window).height()- 115;}else{dest=$(this.hash).offset().top- 115;}
$('html,body').animate({scrollTop:dest},1000);window.location.hash=this.hash;});});